@{
    ViewData["Title"] = "Quản trị hệ thống";
}

<link rel="stylesheet" href="~/css/admin-dashboard.css" asp-append-version="true" />

<div class="container-fluid py-4 bg-light">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4 gap-3">

        <div>
            <h2 class="h4 font-weight-bold text-gray-800 mb-1">Tổng quan quản trị</h2>
            <p class="text-muted small mb-0">Dữ liệu cập nhật: @DateTime.Now.ToString("dd/MM/yyyy HH:mm")</p>
        </div>

        <div class="d-flex gap-2">
            <button class="btn btn-outline-primary">
                <i class="fas fa-cogs"></i> <span class="d-none d-md-inline ms-1">Cấu hình</span>
            </button>

            <a asp-controller="User" asp-action="Create" class="btn btn-primary">
                <i class="fas fa-plus"></i> <span class="ms-1">Thêm Tài khoản</span>
            </a>
        </div>
    </div>

    <div class="row g-3 mb-4">
        <div class="col-xl-3 col-md-6 col-sm-6 col-12">
            <div class="card card-stats bg-gradient-primary h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-uppercase mb-1 text-white-50 small">Tổng Giáo viên</h6>
                            <h2 class="mb-0 fw-bold">42</h2>
                        </div>
                        <div class="icon-shape">
                            <i class="fas fa-chalkboard-teacher"></i>
                        </div>
                    </div>
                    <div class="mt-3 small">
                        <span class="text-white"><i class="fas fa-arrow-up"></i> 2</span>
                        <span class="text-white-50">giáo viên mới tháng này</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 col-sm-6 col-12">
            <div class="card card-stats h-100 border-start border-4 border-warning">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-uppercase mb-1 text-muted small">Giáo án chờ duyệt</h6>
                            <h2 class="mb-0 fw-bold text-warning">15</h2>
                        </div>
                        <div class="icon-shape bg-warning text-white shadow-sm">
                            <i class="fas fa-file-signature"></i>
                        </div>
                    </div>
                    <div class="mt-3 small text-muted">
                        Cần xử lý trước Thứ 7
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 col-sm-6 col-12">
            <div class="card card-stats h-100 border-start border-4 border-danger">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-uppercase mb-1 text-muted small">Lỗi Sổ đầu bài</h6>
                            <h2 class="mb-0 fw-bold text-danger">8</h2>
                        </div>
                        <div class="icon-shape bg-danger text-white shadow-sm">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                    </div>
                    <div class="mt-3 small text-muted">
                        Chưa ký hoặc nhập thiếu
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 col-sm-6 col-12">
            <div class="card card-stats h-100 border-start border-4 border-success">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-uppercase mb-1 text-muted small">Tổng Học sinh</h6>
                            <h2 class="mb-0 fw-bold text-success">1,250</h2>
                        </div>
                        <div class="icon-shape bg-success text-white shadow-sm">
                            <i class="fas fa-user-graduate"></i>
                        </div>
                    </div>
                    <div class="mt-3 small text-muted">
                        30 Lớp học
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-4">
        <div class="col-lg-8 col-12">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center flex-wrap gap-2">
                    <h6 class="m-0 font-weight-bold text-primary"><i class="fas fa-tasks me-2"></i>Tiến độ nộp & Duyệt giáo án (Tuần 12)</h6>
                    <a href="#" class="btn btn-sm btn-light">Xem tất cả</a>
                </div>
                <div class="card-body p-0 p-md-3">
                    <div class="table-responsive">
                        <table class="table table-hover align-middle text-nowrap mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th>Giáo viên</th>
                                    <th>Tổ chuyên môn</th>
                                    <th>Trạng thái</th>
                                    <th>Ngày nộp</th>
                                    <th>Thao tác</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <div class="bg-primary text-white rounded-circle me-2 d-flex justify-content-center align-items-center" style="width:32px; height:32px">H</div>
                                            <div>
                                                <div class="fw-bold">Nguyễn Văn Hùng</div>
                                                <small class="text-muted">Môn Toán</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Tự nhiên</td>
                                    <td><span class="badge bg-warning text-dark">Chờ duyệt</span></td>
                                    <td>05/01/2026</td>
                                    <td>
                                        <button class="btn btn-sm btn-primary">Duyệt</button>
                                        <button class="btn btn-sm btn-outline-danger"><i class="fas fa-times"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <div class="bg-success text-white rounded-circle me-2 d-flex justify-content-center align-items-center" style="width:32px; height:32px">L</div>
                                            <div>
                                                <div class="fw-bold">Trần Thị Lan</div>
                                                <small class="text-muted">Môn Văn</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Xã hội</td>
                                    <td><span class="badge bg-success">Đã duyệt</span></td>
                                    <td>04/01/2026</td>
                                    <td>
                                        <button class="btn btn-sm btn-light text-muted" disabled>Đã xong</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="d-flex align-items-center">
                                            <div class="bg-danger text-white rounded-circle me-2 d-flex justify-content-center align-items-center" style="width:32px; height:32px">T</div>
                                            <div>
                                                <div class="fw-bold">Lê Văn Tám</div>
                                                <small class="text-muted">Thể dục</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Năng khiếu</td>
                                    <td><span class="badge bg-danger">Từ chối</span></td>
                                    <td>05/01/2026</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-secondary">Xem lý do</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-12">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h6 class="m-0 font-weight-bold text-dark"><i class="fas fa-chart-pie me-2"></i>Tỷ lệ hoàn thành SĐB</h6>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <div class="d-flex justify-content-between mb-1">
                            <small>Khối 10</small>
                            <small class="fw-bold">90%</small>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-info" role="progressbar" style="width: 90%"></div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between mb-1">
                            <small>Khối 11</small>
                            <small class="fw-bold">60% (Cảnh báo)</small>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-warning" role="progressbar" style="width: 60%"></div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between mb-1">
                            <small>Khối 12</small>
                            <small class="fw-bold">95%</small>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 95%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm">
                <div class="card-header bg-white py-3">
                    <h6 class="m-0 font-weight-bold text-dark">Quản lý nhanh</h6>
                </div>
                <div class="list-group list-group-flush">
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div><i class="fas fa-calendar-alt text-primary me-2"></i> Phân công lịch báo giảng</div>
                        <i class="fas fa-chevron-right small text-muted"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div><i class="fas fa-book-open text-success me-2"></i> Xuất báo cáo sổ đầu bài</div>
                        <i class="fas fa-chevron-right small text-muted"></i>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div><i class="fas fa-users-cog text-info me-2"></i> Quản lý lớp & Chủ nhiệm</div>
                        <i class="fas fa-chevron-right small text-muted"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>